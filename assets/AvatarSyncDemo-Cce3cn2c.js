import{_ as l,p as r,a as n,q as e,e as a,t as d,B as i,b as p,w as b,j as u,u as m,o as _,k as f}from"./index-B2QBWZZT.js";const g={class:"avatar-sync-demo"},A={class:"demo-section"},S={class:"data-monitor"},h={class:"monitor-item"},x={class:"value"},k={class:"monitor-item"},y={class:"value"},w={class:"monitor-item"},C={class:"value"},I={class:"monitor-item"},N={class:"value"},P={class:"demo-section"},U={class:"three-avatars"},V={class:"avatar-location"},B={class:"avatar-card"},G=["src"],q={class:"avatar-location"},D={class:"avatar-card"},E=["src"],L={class:"avatar-location"},R={class:"avatar-card"},T=["src"],j={class:"demo-section"},F={class:"test-steps"},J={class:"step"},M={class:"step-content"},z={__name:"AvatarSyncDemo",setup(H){const v=m(),s=r();function c(){v.push("/change-avatar")}return(K,t)=>{const o=u("el-button");return _(),n("div",g,[t[17]||(t[17]=e('<div class="demo-header" data-v-19b625c5><h1 data-v-19b625c5>ğŸ¯ å¤´åƒåŒæ­¥æ¼”ç¤º</h1><p class="subtitle" data-v-19b625c5>éªŒè¯å¤´åƒä½œä¸ºå…¨ç«™å…±äº«çŠ¶æ€çš„æ­£ç¡®å»ºæ¨¡</p></div><div class="demo-section" data-v-19b625c5><h2 data-v-19b625c5>ğŸ—ï¸ æ¶æ„åŸç†</h2><div class="architecture-box" data-v-19b625c5><div class="box-item store" data-v-19b625c5><div class="box-title" data-v-19b625c5>Pinia Store</div><div class="box-content" data-v-19b625c5><code data-v-19b625c5>profile.avatar_url</code><div class="note" data-v-19b625c5>å”¯ä¸€çš„æ•°æ®æº</div></div></div><div class="box-item arrow" data-v-19b625c5>â†’</div><div class="box-item component" data-v-19b625c5><div class="box-title" data-v-19b625c5>æ‰€æœ‰ç»„ä»¶</div><div class="box-content" data-v-19b625c5><code data-v-19b625c5>userStore.userAvatar</code><div class="note" data-v-19b625c5>å“åº”å¼åŒæ­¥</div></div></div></div></div>',2)),a("div",A,[t[4]||(t[4]=a("h2",null,"ğŸ” å®æ—¶æ•°æ®çŠ¶æ€",-1)),a("div",S,[a("div",h,[t[0]||(t[0]=a("span",{class:"label"},"å½“å‰å¤´åƒ URLï¼š",-1)),a("code",x,d(i(s).userAvatar),1)]),a("div",k,[t[1]||(t[1]=a("span",{class:"label"},"Store Profile Avatarï¼š",-1)),a("code",y,d(i(s).profile?.avatar_url||"æœªè®¾ç½®"),1)]),a("div",w,[t[2]||(t[2]=a("span",{class:"label"},"ç”¨æˆ·åï¼š",-1)),a("span",C,d(i(s).userName),1)]),a("div",I,[t[3]||(t[3]=a("span",{class:"label"},"é‚®ç®±ï¼š",-1)),a("span",N,d(i(s).userEmail),1)])])]),a("div",P,[t[11]||(t[11]=a("h2",null,"ğŸ“¸ ä¸‰ä¸ªä½ç½®çš„å¤´åƒåŒæ­¥",-1)),a("div",U,[a("div",V,[t[6]||(t[6]=a("div",{class:"location-title"},"1ï¸âƒ£ Profile é¡µé¢",-1)),a("div",B,[a("img",{src:i(s).userAvatar,class:"avatar-img"},null,8,G),t[5]||(t[5]=a("div",{class:"location-path"},'class="profile-avatar"',-1))])]),a("div",q,[t[8]||(t[8]=a("div",{class:"location-title"},"2ï¸âƒ£ UserMenu èœå•",-1)),a("div",D,[a("img",{src:i(s).userAvatar,class:"avatar-img"},null,8,E),t[7]||(t[7]=a("div",{class:"location-path"},'class="user-avatar-large"',-1))])]),a("div",L,[t[10]||(t[10]=a("div",{class:"location-title"},"3ï¸âƒ£ AppLayout å¯¼èˆªæ ",-1)),a("div",R,[a("img",{src:i(s).userAvatar,class:"avatar-img"},null,8,T),t[9]||(t[9]=a("div",{class:"location-path"},'class="user-avatar"',-1))])])])]),a("div",j,[t[16]||(t[16]=a("h2",null,"âœ… å®Œæ•´æµ‹è¯•æµç¨‹",-1)),a("div",F,[a("div",J,[t[14]||(t[14]=a("div",{class:"step-number"},"1",-1)),a("div",M,[t[13]||(t[13]=a("div",{class:"step-title"},"è®¿é—®ä¿®æ”¹å¤´åƒé¡µé¢",-1)),p(o,{type:"primary",onClick:c},{default:b(()=>[...t[12]||(t[12]=[f(" å‰å¾€ /change-avatar ",-1)])]),_:1})])]),t[15]||(t[15]=e('<div class="step-arrow" data-v-19b625c5>â¬‡ï¸</div><div class="step" data-v-19b625c5><div class="step-number" data-v-19b625c5>2</div><div class="step-content" data-v-19b625c5><div class="step-title" data-v-19b625c5>ä¸Šä¼ æ–°å›¾ç‰‡</div><p class="step-desc" data-v-19b625c5>é€‰æ‹©æˆ–æ‹–æ‹½ä¸Šä¼  JPG/PNG/GIF å›¾ç‰‡</p></div></div><div class="step-arrow" data-v-19b625c5>â¬‡ï¸</div><div class="step" data-v-19b625c5><div class="step-number" data-v-19b625c5>3</div><div class="step-content" data-v-19b625c5><div class="step-title" data-v-19b625c5>ä¿å­˜å¤´åƒ</div><p class="step-desc" data-v-19b625c5>ç‚¹å‡»ä¿å­˜ï¼Œè°ƒç”¨ userStore.updateAvatarInStore()</p></div></div><div class="step-arrow" data-v-19b625c5>â¬‡ï¸</div><div class="step" data-v-19b625c5><div class="step-number" data-v-19b625c5>4</div><div class="step-content" data-v-19b625c5><div class="step-title" data-v-19b625c5>éªŒè¯åŒæ­¥</div><p class="step-desc" data-v-19b625c5>æ‰€æœ‰ä½ç½®çš„å¤´åƒç«‹å³æ›´æ–°ï¼Œæ— éœ€åˆ·æ–°</p></div></div>',6))])]),t[18]||(t[18]=e(`<div class="demo-section code-section" data-v-19b625c5><h2 data-v-19b625c5>ğŸ’¡ å…³é”®ä»£ç ç‰‡æ®µ</h2><div class="code-block" data-v-19b625c5><div class="code-title" data-v-19b625c5>Store Getterï¼ˆå”¯ä¸€æ•°æ®æºï¼‰</div><pre data-v-19b625c5><code data-v-19b625c5>userAvatar: (state) =&gt; {
  // ä¼˜å…ˆä» profile.avatar_url è¯»å–
  if (state.profile?.avatar_url) {
    return state.profile.avatar_url;
  }
  // é™çº§æ–¹æ¡ˆ
  return \`https://api.dicebear.com/...\`;
}</code></pre></div><div class="code-block" data-v-19b625c5><div class="code-title" data-v-19b625c5>Store Actionï¼ˆæ›´æ–°çŠ¶æ€ï¼‰</div><pre data-v-19b625c5><code data-v-19b625c5>updateAvatarInStore(avatarUrl) {
  if (this.profile) {
    this.profile.avatar_url = avatarUrl;
  }
}</code></pre></div><div class="code-block" data-v-19b625c5><div class="code-title" data-v-19b625c5>ç»„ä»¶ä½¿ç”¨ï¼ˆæ‰€æœ‰ä½ç½®ç›¸åŒï¼‰</div><pre data-v-19b625c5><code data-v-19b625c5>&lt;img :src=&quot;userStore.userAvatar&quot; /&gt;</code></pre></div><div class="code-block" data-v-19b625c5><div class="code-title" data-v-19b625c5>ChangeAvatar ä¿å­˜é€»è¾‘</div><pre data-v-19b625c5><code data-v-19b625c5>async function saveAvatar() {
  // â­ ç«‹å³æ›´æ–°çŠ¶æ€
  userStore.updateAvatarInStore(previewImage);
  
  // ç„¶åè¿”å›é¡µé¢
  router.push(&#39;/profile&#39;);
}</code></pre></div></div><div class="demo-section principle-section" data-v-19b625c5><h2 data-v-19b625c5>ğŸ§  ä¸ºä»€ä¹ˆè¿™æ ·åšæ˜¯å¯¹çš„</h2><div class="principle-list" data-v-19b625c5><div class="principle-item" data-v-19b625c5><div class="principle-icon" data-v-19b625c5>âœ…</div><div class="principle-content" data-v-19b625c5><div class="principle-title" data-v-19b625c5>å•ä¸€æ•°æ®æº</div><p data-v-19b625c5>åªæœ‰ profile.avatar_url æ˜¯æƒå¨æ¥æºï¼Œé¿å…å¤šä¸ªåœ°æ–¹ç»´æŠ¤çŠ¶æ€å¯¼è‡´ä¸ä¸€è‡´</p></div></div><div class="principle-item" data-v-19b625c5><div class="principle-icon" data-v-19b625c5>âœ…</div><div class="principle-content" data-v-19b625c5><div class="principle-title" data-v-19b625c5>å“åº”å¼åŒæ­¥</div><p data-v-19b625c5>Vue çš„ååº”å¼ç³»ç»Ÿè‡ªåŠ¨é€šçŸ¥æ‰€æœ‰å¼•ç”¨ï¼Œæ— éœ€æ‰‹åŠ¨ emit æˆ–åˆ·æ–°</p></div></div><div class="principle-item" data-v-19b625c5><div class="principle-icon" data-v-19b625c5>âœ…</div><div class="principle-content" data-v-19b625c5><div class="principle-title" data-v-19b625c5>è·¨é¡µé¢ä¸€è‡´</div><p data-v-19b625c5>ä» Profile è·³åˆ° ChangeAvatarï¼Œå¤´åƒå§‹ç»ˆæ¥è‡ªåŒä¸€ä¸ª storeï¼Œä¿è¯ä¸€è‡´æ€§</p></div></div><div class="principle-item" data-v-19b625c5><div class="principle-icon" data-v-19b625c5>âœ…</div><div class="principle-content" data-v-19b625c5><div class="principle-title" data-v-19b625c5>é¡µé¢åˆ·æ–°å®‰å…¨</div><p data-v-19b625c5>Store é…ç½®äº† persist: trueï¼Œæ•°æ®å­˜åˆ° localStorageï¼Œåˆ·æ–°åä»ä¿ç•™</p></div></div></div></div>`,2))])}}},Q=l(z,[["__scopeId","data-v-19b625c5"]]);export{Q as default};
